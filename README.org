[[https://github.com/artawower/blamer.el/actions/workflows/lint.yml/badge.svg]]

* Blamer.el
A git blame plugin for emacs inspired by [[https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens][VS Code's GitLens plugin]].

[[./images/preview.gif]]
* Install
*** quelpa
#+BEGIN_SRC emacs-lisp
(use-package blamer
  :quelpa (blamer :fetcher github :repo "artawower/blamer.el")
  (blamer--idle-time 0.3)
  (blamer--commit-message-enabled-p nil)
  (blamer--min-offset 70)
  :custom-face
  (blamer--face ((t :foreground "#7a88cf"
                    :background nil
                    :height 140
                    :italic t)))
  :config
  (global-blamer-mode 1))
  #+END_SRC

*** doom
#+BEGIN_SRC emacs-lisp
;; packages.el
(package! blamer :recipe (:host github :repo "artawower/blamer.el"))
;; config.el
(use-package blamer
  :defer 20
  :custom
  (blamer--idle-time 0.3)
  (blamer--commit-message-enabled-p nil)
  (blamer--min-offset 70)
  :custom-face
  (blamer--face ((t :foreground "#7a88cf"
                    :background nil
                    :height 140
                    :italic t)))
  :config
  (global-blamer-mode 1))
  #+END_SRC

* Contribute
Run before push
#+BEGIN_SRC bash
emacs -batch -l ert -l blamer.el -l test.el -f ert-run-tests-batch-and-exit
#+END_SRC

* TODO Blamer.el plans [15/16]
- [X] Get necessary information about current line under cursor
- [X] Get commit info by current hash (if necessary)
- [X] Get background color if hl-mode is exist and enabled (transparency)
- [X] Visualize information in special format
- [X] blamer-mode implementation
- [X] Write tests for regexps
- [X] IDLE time before showing
- [X] Special font for blame.
- [X] Truncate long commit line
- [X] Add pretty date format
- [X] Pretty author name
- [X] Add support for common line number changed (might be deleted from external source, or evil keys)
- [X] Add support for global mode
- [X] Add support for multi line selection
- [X] Canonical blamer format + templates.
- [ ] Add async process call
